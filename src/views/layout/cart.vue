<template>
  <div class="cart-container">
     <!-- Ë¥≠Áâ©ËΩ¶Â§¥ÈÉ® -->
     <div class="cart-head">
      <van-nav-bar title="Ë¥≠Áâ©ËΩ¶" fixed/>
    </div>

    <!-- ÂïÜÂìÅÊÄªÊï∞ & ÁºñËæë -->
    <div v-if="this.token && this.cartlist.length !== 0" class="cart-countnumber">
      <p>ÂÖ±<span>{{ totalGoods }}</span>‰ª∂ÂïÜÂìÅ</p>
      <p class="cart-edit" @click="cartEdit">
        <van-icon v-if="isEditflag" name="edit" />
        <span v-if="isEditflag">ÁºñËæë</span>
        <span v-else style="color: red;">ÂÆåÊàê</span>
      </p>
    </div>

    <!-- Ë¥≠Áâ©ËΩ¶ÂïÜÂìÅ -->
    <div class="cartlist-content" v-if="this.token && this.cartlist.length !== 0">
      <!-- ÁúüÊ≠£ÁöÑÂïÜÂìÅÂÜÖÂÆπ -->
      <div class="cartlist-item" v-for="item in cartlist" :key="item.goods_id">
        <!-- Â∑¶‰æßÊåâÈíÆ -->
        <div class="checkbox">
          <van-checkbox :value="item.isCheck" @click="toggleCheck(item.goods_id)" checked-color="rgb(250, 34, 9)" icon-size="20px"/>
        </div>
        <!-- ÂïÜÂìÅÈ°µ -->
        <div class="good-item">
          <!-- ÂïÜÂìÅÂ∑¶‰æß -->
          <div class="item-left" @click="$router.push(`/prodetail?item=${item.goods_id}`)">
            <!-- ÂïÜÂìÅÂõæÁâá -->
            <img :src="item.goods.goods_image" alt="">
          </div>
          <!-- ÂïÜÂìÅÂè≥‰æß -->
          <div class="item-right">
            <!-- ÂïÜÂìÅÊ†áÈ¢ò -->
            <div class="item-title text-elipsis-2" @click="$router.push(`/prodetail?item=${item.goods_id}`)">{{ item.goods.goods_name }}</div>
            <!-- ÂïÜÂìÅ‰ª∑Ê†º -->
            <div class="item-price">
              <!-- ÂîÆÂá∫‰ª∑Ê†º -->
              <span class="new">Ôø•{{ item.goods.goods_price_max }}</span>
              <!-- CountBoxÁªÑ‰ª∂ -->
              <!-- Êú¨Êù•ÊÉ≥Áõ¥Êé•ÈÄöËøáËæÖÂä©ÂáΩÊï∞Áõ¥Êé•Ëé∑Âèñ‰∏Ä‰∏™ÂåÖË£πitem.goods_id, EmitValue, item.goods_sku_idÁöÑÂØπË±°Ôºå‰ΩÜÊòØ‰∏çÁü•ÈÅì‰∏∫Âï•Âú®Êã¨Âè∑‰∏≠ÂÜçÂåÖÂØπË±°Êó∂ËØÜÂà´‰∏ç‰∫Üitem.xxxüòìüòìüòì -->
              <CountBox :value="item.goods_num" @input="(EmitValue) => {handleUpdataCartList(item.goods_id, EmitValue, item.goods_sku_id)}"></CountBox>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ÂïÜÂìÅÁªüËÆ° --- ÂÖ®ÈÄâ --- ÂêàËÆ° --- ÂéªÁªìÁÆó -->
    <div v-if="this.token && this.cartlist.length !== 0" class="cart-status">
      <!-- ÂÖ®ÈÄâÊåâÈíÆ -->
      <div class="check-all">
        <!-- ËøôÈáåischeckAll ÊéßÂà∂ÁùÄÂÖ®ÈÄâÊ°ÜÁöÑÊåâÈíÆÔºåÈÇ£Ëé™Ë¶ÅÊîπÁöÑËØùËÇØÂÆöË¶ÅËé∑ÂèñÂÖ®ÈÄâÊ°ÜÁöÑÂÄºÔºåÊàëÁõ¥Êé•Êää ischeckAll ‰º†ËøáÂéªÂ∞±ÂÆå‰∫ã‰∫ÜÂó∑üòÅüòÅüòÅ -->
        <van-checkbox :value="isCheckAll" @click="toggleCheckAll(isCheckAll)" checked-color="rgb(250, 34, 9)" icon-size="20px">ÂÖ®ÈÄâ</van-checkbox>
      </div>
      <!-- ÂêàËÆ°‰ª∑Èí± -->
      <div class="total-price">ÂêàËÆ°:
        <span class="price">Ôø•{{ isCheckTotalPrice }}</span>
      </div>
      <!-- ÂéªÁªìÁÆó || Âà†Èô§ -->
      <div v-if="isEditflag" class="goPay count-box" @click="goPay">ÂéªÁªìÁÆó({{ isCheckGoodNumber }})</div>
      <div v-else class="delete count-box" @click="del">Âà†Èô§</div>
    </div>

    <!-- ÂΩìÊú™ÁôªÂΩïÔºàÊ≤°ÊúâÊü•ËØ¢Âà∞tokenÊó∂ÔºàÊú™ÁôªÂΩïÔºâ || ÁôªÂΩï‰∫Ü‰ΩÜÊòØË¥≠Áâ©ËΩ¶Êï∞ÊçÆ‰∏∫Á©∫Ôºâ -->
    <div v-else class="search-null">
        <svg t="1750594157038" class="icon" viewBox="0 0 1290 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1872" width="300px" height="200">
          <path d="M1289.569352 843.862535c0-42.568113-36.539493-77.730254-84.87662-84.761239-1.47831-32.573296-32.854535-58.48338-71.607887-58.483381-39.48169 0-71.586254 27.02062-71.586253 60.329465 0 21.100169 12.547606 39.229296 31.729577 49.974085 0 0.360563-0.360563 0.735549-0.360563 1.103324-115.149521-24.056789-279.003944-39.229296-460.208676-39.229296-126.954366 0-245.053296 7.398761-344.323606 19.982422-3.692169-44.781972-47.608789-79.569127-101.49138-79.569126-52.036507 0-94.474817 32.566085-100.74862 74.759211-25.462986 9.252056-43.556056 30.72-43.556056 55.519549 0 2.95662 0.374986 5.552676 0.74276 8.509296-27.676845 14.061972-43.173859 29.24169-43.173859 45.156958 0 68.838761 283.056676 124.726085 632.550761 124.726084 346.16969 0 627.019718-54.776789 632.55076-122.88 15.129239-14.429746 24.359662-34.044394 24.359662-55.144563" fill="#F0EFEF" p-id="1873"></path>
          <path d="M1171.109859 877.164169c0 32.94107-229.916845 59.586704-513.716282 59.586704-283.806648 0-513.723493-26.645634-513.723492-59.586704s229.916845-59.586704 513.723492-59.586704c283.799437-0.367775 513.716282 26.277859 513.716282 59.586704" fill="#DFDFDF" p-id="1874"></path>
          <path d="M459.213521 173.950197V105.861408c0-19.989634 16.232563-36.272676 36.164507-36.272676h558.368451c19.931944 0 35.803944 16.283042 35.803944 36.272676v665.830761c0 19.982423-16.239775 36.272676-35.803944 36.272676h-68.269071" fill="#FFFFFF" p-id="1875"></path>
          <path d="M262.129577 443.392h-32.104563v-32.19831H208.621972v32.19831h-32.104564v21.467944h32.104564v32.19831h21.403042v-32.19831h32.111775v-21.467944zM320.079324 22.210704h-21.403042V0.360563H277.273239V22.210704h-21.403042v21.460733h21.403042v21.467943h21.403043V43.671437h21.403042V22.210704z m925.212845 461.896113h-32.104563v-32.566085h-21.410254v32.19831h-32.104563v21.467944h32.104563v32.19831h21.410254v-32.19831h32.104563v-21.100169z" fill="#D7D8D8" p-id="1876"></path>
          <path d="M1215.762028 803.140507h-115.88507c5.170479-7.766535 7.752113-16.658028 7.752112-26.277859V96.602141c0-26.277859-21.403042-47.745803-47.601577-47.745803H489.104225c-26.205746 0-47.608789 21.467944-47.608788 47.738592v69.949295h21.403042v-69.949295c0-14.429746 11.812056-26.270648 26.205746-26.270648h570.916057c14.39369 0 26.205746 11.840901 26.205746 26.277859v680.260507c0 14.436958-11.812056 26.277859-26.198535 26.277859h-80.456113c-5.906028 0-10.701521 4.817127-10.701521 10.737578 0 2.95662 1.103324 5.552676 2.95662 7.773746 1.838873 1.846085 4.795493 3.331606 7.377127 3.331606h236.558422c5.913239 0 10.701521-4.817127 10.701521-10.737578 0-2.95662-1.103324-5.920451-3.317183-7.773746-2.213859-1.846085-4.427718-3.331606-7.384338-3.331606z" fill="#D7D8D8" p-id="1877"></path>
          <path d="M1225.728 251.673239a22.066479 22.066479 0 0 0 10.701521 18.879099 22.023211 22.023211 0 0 0 21.403042 0c6.641577-3.69938 10.701521-11.105352 10.701522-18.879099a22.066479 22.066479 0 0 0-10.701522-18.871887 22.023211 22.023211 0 0 0-21.403042 0 22.066479 22.066479 0 0 0-10.701521 18.871887z" fill="#FFFFFF" p-id="1878"></path>
          <path d="M1247.131042 294.609127a42.979155 42.979155 0 0 1-39.856676-26.645634c-6.641577-16.290254-2.95662-34.794366 9.230423-47.010254a43.159437 43.159437 0 0 1 46.866028-9.252056c16.239775 6.663211 26.56631 22.578479 26.56631 39.972056 0 11.473127-4.427718 22.578479-12.547606 30.352226-8.112676 7.773746-18.821408 12.583662-30.258479 12.583662z m0-64.771606a21.302085 21.302085 0 0 0-19.931943 13.326423 21.756394 21.756394 0 0 0 4.802704 23.689014c6.273803 6.288225 15.504225 8.141521 23.616901 4.809915a21.366986 21.366986 0 0 0 13.283155-19.989634 22.340507 22.340507 0 0 0-21.770817-21.835718z" fill="#D7D8D8" p-id="1879"></path>
          <path d="M107.505577 185.055549a32.176676 32.176676 0 0 0 32.104564 32.19831 32.176676 32.176676 0 0 0 32.104563-32.19831c0-11.465915-6.273803-22.210704-16.232563-28.123943a31.232 31.232 0 0 0-32.111775 0c-9.590986 5.913239-15.864789 16.658028-15.864789 28.123943z" fill="#FFFFFF" p-id="1880"></path>
          <path d="M139.610141 239.089577a53.651831 53.651831 0 0 1-50.190423-32.566084c-8.487662-19.989634-4.059944-43.303662 11.069296-59.21893s38.385577-20.357408 58.678085-12.215887c20.299718 8.148732 33.582873 28.123944 33.582873 49.974085 0 29.234479-23.616901 53.291268-53.139831 54.026816z m0-86.607323a31.989183 31.989183 0 0 0-30.26569 19.254084c-5.163268 11.840901-2.581634 26.270648 6.273803 35.529916 8.862648 9.252056 23.256338 12.208676 35.428957 7.39876a32.191099 32.191099 0 0 0 20.299719-29.977239c0-17.393577-14.025915-31.462761-31.736789-32.19831z" fill="#D7D8D8" p-id="1881"></path>
          <path d="M402.37431 191.718761h537.340394c16.975324 0 25.455775 8.509296 25.455775 25.535098v665.095211c0 17.018592-8.480451 25.535099-25.455775 25.535099H402.37431c-16.975324 0-25.462986-8.509296-25.462986-25.535099v-665.095211c0-17.018592 8.487662-25.535099 25.462986-25.535098z" fill="#F9F9F9" p-id="1882"></path><path d="M945.988507 170.258028H396.468282c-9.965972 0-19.189183 4.067155-26.198536 10.730366-7.016563 6.656-10.708732 16.283042-10.708732 26.27786v718.018704h544.356958c1.471099 0.360563 2.949408 0.360563 4.427718 0h37.275042c20.292507 0 36.532282-16.658028 36.900057-37.015437V207.266254c0.367775-20.357408-16.239775-37.015437-36.532282-37.015437z m15.129239 717.268733a15.215775 15.215775 0 0 1-15.129239 15.179718H396.468282a15.605183 15.605183 0 0 1-11.069296-4.442141 14.848 14.848 0 0 1-4.427718-10.737577V207.266254c0-8.509296 7.009352-15.547493 15.504225-15.547493h549.513014c4.059944 0 8.119887 1.47831 10.701521 4.44214 2.581634 2.95662 4.427718 7.030986 4.427718 11.105353v680.260507z" fill="#D7D8D8" p-id="1883"></path>
          <path d="M730.833127 306.082254H472.496676a10.723155 10.723155 0 0 1-10.708732-10.730367c0-5.927662 4.802704-10.737577 10.708732-10.737577h258.336451c5.898817 0 10.701521 4.809915 10.701521 10.737577 0 5.913239-4.802704 10.730366-10.701521 10.730367z m-43.181071 168.404732H472.496676a10.723155 10.723155 0 0 1-10.708732-10.737578c0-5.920451 4.802704-10.730366 10.708732-10.730366h215.15538c5.906028 0 10.701521 4.809915 10.701521 10.730366s-4.795493 10.737577-10.701521 10.737578z m107.765183-84.386254h-322.920563a10.723155 10.723155 0 0 1-10.708732-10.737577c0-5.920451 4.802704-10.730366 10.708732-10.730366h322.920563a10.723155 10.723155 0 1 1 0 21.467943z" fill="#D7D8D8" p-id="1884"></path>
          <path d="M490.943099 700.992901c0 65.507155 52.779268 118.437859 118.098929 118.43786s118.09893-52.930704 118.09893-118.43786-52.779268-118.437859-118.09893-118.437859-118.09893 52.930704-118.098929 118.437859z m62.377464 50.702423a75.884169 75.884169 0 0 1 0-106.582535v106.582535z" fill="#FFFFFF" p-id="1885"></path><path d="M553.320563 763.168451c-2.95662 0-5.538254-1.110535-7.384338-2.95662-33.582873-33.67662-33.582873-88.085634 0-121.769465 1.846085-2.22107 4.795493-3.331606 7.377127-3.331605 2.95662 0 5.538254 1.110535 7.384338 3.331605 2.213859 1.853296 3.317183 4.809915 3.317183 7.773747 0 2.95662-1.103324 5.552676-3.317183 7.773746-25.095211 25.167324-25.095211 65.882141 0 91.41724 2.95662 2.95662 4.059944 7.773746 2.213859 11.840901-1.47831 2.95662-5.538254 5.552676-9.590986 5.920451z" fill="#D7D8D8" p-id="1886"></path>
          <path d="M869.224563 947.856225l-136.177577-136.566986a21.006423 21.006423 0 0 0-18.460845-5.927662l-5.531042-7.030985c53.882592-54.401803 54.985915-141.384113 2.956619-197.271437-52.036507-55.887324-138.766423-60.322254-196.341183-10.362592-57.567549 49.974085-65.319662 136.941972-17.710873 196.528676 47.608789 59.593915 133.963718 70.692056 195.230648 25.167324l5.531042 6.295437c-2.95662 7.773746-1.103324 17.018592 4.795493 22.946254l135.074254 136.574197c4.059944 4.067155 9.590986 6.288225 15.129239 6.288225a21.67707 21.67707 0 0 0 19.931944-13.319211c3.317183-8.148732 1.47831-17.025803-4.427719-23.32124zM490.575324 700.992901c0-65.507155 52.779268-118.437859 118.09893-118.437859s118.09893 52.930704 118.098929 118.437859-52.779268 118.437859-118.098929 118.43786c-65.319662-0.374986-118.09893-53.291268-118.09893-118.43786z" fill="#D7D8D8" p-id="1887"></path>
        </svg>
        <p>‰∫≤ÔºåÊöÇÊó†Áõ∏ÂÖ≥Êï∞ÊçÆÂë¢</p>
        <button @click="$router.replace('/home')">ÂéªÈÄõÈÄõ</button>
      </div>

  </div>
</template>

<script>
// ÂØºÂÖ• vuex ËæÖÂä©ÂáΩÊï∞
import { mapActions, mapGetters, mapMutations, mapState } from 'vuex'

// ÂØºÂÖ• CountBox Â∞èÁªÑ‰ª∂
import CountBox from '@/components/CountBox.vue'

// ÂØºÂÖ•DialogÂºπÊ°ÜÊèêÁ§∫ÁªÑ‰ª∂
import { Dialog } from 'vant'

export default {
  name: 'LayoutCart',
  components: {
    CountBox
  },
  data () {
    return {
      isEditflag: true
    }
  },
  methods: {
    // ÂïÜÂìÅÂà†Èô§ÔºåÂΩìÁÑ∂ËøòÊúâÁ°ÆËÆ§ÂºπÊ°Ü --- Âõ†‰∏∫‰ΩøÁî®‰∫Üpromise.thenÔºåÊàëÂ∞±Áõ¥Êé•returnË¶Å‰ΩøÁî®ÁöÑÂºÇÊ≠•ÊñπÊ≥ïdeleteCartGoods‰∫Ü
    async del () {
      if (this.isCheckGoodList.length === 0) return
      await Dialog.confirm({
        title: 'ÂèãÊÉÖÊèêÁ§∫',
        message: 'ÊÇ®Á°ÆÂÆöË¶ÅÂà†Èô§ËØ•ÂïÜÂìÅÂêó'
      })
        .then(async () => {
          this.isEditflag = true
          await this.deleteCartGoods()
        })
        .catch(() => {
        })
    },
    // ËØ•ÁªìÁÆóË∑≥ËΩ¨‰ªéË¥≠Áâ©ËΩ¶Âá∫ÂèëÔºåÂàôÂè™ÈúÄË¶ÅÊê∫Â∏¶ cartId
    goPay () {
      const cartIds = this.isCheckGoodList.map(item => item.id).join(',')
      this.$router.push({
        path: '/pay',
        query: {
          mode: 'cart',
          cartIds
        }
      })
    },
    // ÁÇπÂáªÁºñËæëÂêé‰ºöËÆ© ÂéªË¥≠‰π∞/Âà†Èô§ ‰∏§‰∏™ÊåâÈíÆËΩÆÊç¢
    cartEdit () {
      // Â∞è‰ºòÂåñÔºåÊúâÁ©∫ÁªôËøô‰∏™ÁÇπÂáª‰∫ã‰ª∂ÂÅö‰∏™ËäÇÊµÅÂêßÔºå‰∏çÁÑ∂Âø´ÈÄüËøûÁª≠ÁÇπÂáªÂÆπÊòìÂá∫Áé∞bug
      this.isEditflag = !this.isEditflag
      // this.editName = this.isEditflag ? 'ÁºñËæë' : 'ÂÆåÊàê'
      // ‰∏ãÈù¢ÊòØÂØπ‰∫§‰∫íÁöÑ‰ºòÂåñÔºö
      // ÂΩìÁî®Êà∑ÈÄâÊã©Âà†Èô§Êó∂Ôºå‰Ωú‰∏∫ÂïÜÂüé‰∏çÂ∏åÊúõÁî®Êà∑Âà†Èô§ÔºåÊâÄ‰ª•‰ºöÂ∞ÜÊâÄÊúâÂ§çÈÄâÊ°ÜÂÖ®ÈÉ®Âèò‰∏∫ false
      // ÂΩìÁî®Êà∑ÈÄâÊã©ÂéªË¥≠‰π∞Êó∂Ôºå‰Ωú‰∏∫ÂïÜÂüéÂ∏åÊúõÁî®Êà∑Â§öÂ§öË¥≠‰π∞ÔºåÊâÄÊúâ‰ºöÂ∞ÜÊâÄÊúâÂ§çÈÄâÊ°ÜÂÖ®ÈÉ®Âèò‰∏∫ true
      if (this.isEditflag === false) {
        this.toggleCheckAll(true)
      } else {
        this.toggleCheckAll(false)
      }
    },
    ...mapMutations('cart', ['toggleCheck', 'toggleCheckAll']),
    ...mapActions('cart', ['getCartList', 'deleteCartGoods']),
    // ËÆæÁΩÆÊñπÊ≥ïÔºåÂ∞ÜËé∑ÂèñÁöÑÂèÇÊï∞‰º†ÈÄíÁªôvuex‰ªìÂ∫ì‰∏≠ÁöÑÂºÇÊ≠•ÂáΩÊï∞ --- updateCartList
    handleUpdataCartList (goodsId, goodsNum, goodsSkuId) {
      this.$store.dispatch('cart/updateCartList', { goodsId, goodsNum, goodsSkuId })
    }
  },
  computed: {
    ...mapState('cart', ['cartlist']),
    ...mapGetters('cart', ['totalGoods', 'isCheckAll', 'isCheckGoodList', 'isCheckGoodNumber', 'isCheckTotalPrice']),

    // ËÆæÁΩÆËé∑Âèñ Êú¨Âú∞token ËæÖÂä©ÂáΩÊï∞
    ...mapGetters('user', ['token'])
  },
  async created () {
  /*
    Â∞ÜcartÊï∞ÊçÆÂ≠òÂÇ®‰∏∫vuex --- VS --- ‰∏çÂ≠òÂÇ®storeÊï∞ÊçÆÔºåÁõ¥Êé•ËøõË°åÊï∞ÊçÆËØ∑Ê±Ç
    1„ÄÅcart.vue È°µÈù¢ÂàùÂßãÂåñÈúÄË¶ÅË¥≠Áâ©ËΩ¶Êï∞ÊçÆ --- Ë¶ÅËøõË°åÊï∞ÊçÆËé∑Âèñ --- Êó†ËÆ∫ÊòØÂê¶ÊúâvuexÈÉΩÈúÄË¶Å
    2„ÄÅÂïÜÂìÅÁöÑÂÖ®ÈÄâÂèçÈÄâ --- Ê†∏ÂøÉË¶ÅÊ±Ç ---> Â§ßÊéßÂ∞èÔºöÁÇπÂáªÂÖ®ÈÄâÂêéÔºåÊâÄÊúâÂ∞èÈÄâÈ°π‰∏éÂ§ßÈÄâÈ°πÈÄâÈ°π‰∏ÄÊ†∑ÔºõÂ∞èÊéßÂ§ßÔºöÂä†ÂÖ•ËØ¥Ê≤°ÊúâÂ≠òÊîæÊâÄÊúâÂ∞èÈÄâÈ°πÁöÑÊï∞ÁªÑÔºåÂ∞±Âà§Êñ≠‰∏ç‰∫ÜÊòØ‰∏çÊòØÂÖ®ÈÄâ‰ΩøÁî®findÂáΩÊï∞Âà§Êñ≠
    3„ÄÅË¥≠Áâ©ËΩ¶‰∏≠ÂïÜÂìÅÁöÑ +&- ---> Ê†∏ÂøÉË¶ÅÊ±ÇÔºöÁªôCountBoxËÆæÁΩÆinput‰∫ã‰ª∂ÁõëÂê¨ Ëé∑ÂèñCountBox‰º†Êù•ÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÂ∞ÜËé∑ÂèñÁöÑÊï∞ÊçÆ‰º†Âà∞request.post('/cart/update', {xxx})ËØ∑Ê±Ç‰Ωì‰∏≠
    4„ÄÅÂïÜÂìÅÁöÑÂà†Èô§ ‰∏é Ë¥≠‰π∞ ---> Ê†∏ÂøÉË¶ÅÊ±ÇÔºöËé∑ÂèñÂà†Èô§ÁöÑÂïÜÂìÅÁöÑidÔºåÈõÜÂêàÊàêÊï∞ÁªÑ cartIds Ë∞ÉÁî®request.post('/cart/clear', {cartIds}) Âà†Èô§Êï∞ÊçÆÔºåÂ¶ÇÊûúÈ°µÈù¢Êï∞ÊçÆÊù•Ê∫ê‰∫évuexÔºåÈÇ£‰πàÈáçÊñ∞Ë∞ÉÁî®vuex‰∏≠Ëá™ÂÆö‰πâÁöÑËé∑ÂèñÊï∞ÊçÆÔºàÈáçÊñ∞Êãâ‰∏ãÂç≥ÂèØÔºâÔºõÂ¶ÇÊûúÊú™‰ΩøÁî®vuexÔºåÂ∞Üdata‰∏≠ÁöÑcartGoodslistÊ∏ÖÁêÜÂç≥ÂèØ

    1„ÄÅÁé∞Âú®ÈúÄË¶ÅÂÆûÁé∞ÂÖ®ÈÄâÂèçÈÄâ
    2„ÄÅÂïÜÂìÅÂêàËÆ°‰∫éÂïÜÂìÅÊÄªÊï∞ÈúÄË¶ÅÂìçÂ∫îÂºèËÆ°ÁÆó
    3„ÄÅÁÇπÂáª+&-ÈúÄË¶ÅÂÆûÁé∞Ë¥≠Áâ©ËΩ¶ÂïÜÂìÅÊõ¥Êñ∞
    4„ÄÅÁÇπÂáª‚ÄúÁºñËæë‚ÄùÔºåÂéªÁªìÁÆóÈîÆ ÂèòÊàê Âà†Èô§ÈîÆ
    5„ÄÅÁÇπÂáªÂà†Èô§Âà†Èô§Ë¥≠Áâ©ËΩ¶ÔºàÈúÄË¶ÅËøõË°åÊï∞ÊçÆËØ∑Ê±ÇÔºâ
    6„ÄÅÂΩìÊâÄÊúâÂ§çÈÄâÊ°ÜÈÉΩÊ≤°ÂãæÈÄâÊó∂ÔºåÂéªÁªìÁÆó or Âà†Èô§È¢úËâ≤ÂèòÊàêÁÅ∞Ëâ≤ÔºõÂêàËÆ°‰ª∑Èí±‰øùÊåÅ‰∏§‰ΩçÊï∞
  */
    if (!this.token) {
      return
    }
    await this.getCartList()
    console.log(this.cartlist)
  }

}
</script>

<style lang="less" scoped>
// ‰∏ª‰ΩìÊ†∑Âºè
.cart-container{
  width: 100%;
  height: 100vh;
  padding-top: 100px;
  padding-bottom: 50px;
  background-color: rgb(245, 245, 245);

  // Â§¥
  .van-nav-bar{
      z-index: 999;
      /deep/ .van-nav-bar__title{
      font-size: 20px;
      font-weight: bold;
    }
  }

  // ÂïÜÂìÅÊÄªÊï∞ & ÁºñËæë
  .cart-countnumber{
    position: fixed;
    width: 100%;
    top: 46px;
    z-index: 999;
    height: 40px;
    background-color: rgb(245, 245, 245);
    padding: 0 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    p{
      // background-color: pink;;
      line-height: 30px;
      font-size: 16px;
      span{
        height: 30px;
        margin: 0 5px;
      }
    }
  }
}

// Ë¥≠Áâ©ËΩ¶ÂàóË°®Ê†∑Âºè
.cartlist-content{
  width: 100%;
  height: 105vh;
  // margin-bottom: 100px;
  background-color: rgb(246, 246, 246);
}
.cartlist-item{
  width: 100%;
  height: 135px;
  font-size: 12px;
  background-color: white;
  padding: 0 10px;
  border-bottom: 12px solid rgb(246, 246, 246);
  display: flex;
  align-items: center;
  // Âè≥‰æßÊåâÈíÆ
  .checkbox{
    width: 90px;
    padding: 0 10px;
  }

  // Â∑¶‰æßÂïÜÂìÅÈ°µ
  .good-item{
    display: flex;
    cursor: pointer;
    // Â∑¶‰æßÂïÜÂìÅÈ°µ --- Âè≥‰æßÂõæÁâá
    .item-left{
      width: 32%;
      img{
        border-radius: 10px;
        width: 100%;
        height: 100%;
      }
    }
    // Â∑¶‰æßÂïÜÂìÅÈ°µ --- Â∑¶‰æßËØ¶ÊÉÖ‰ªãÁªç
    .item-right{
      width: 68%;
      margin-left: 4%;
      padding: 0 0 10px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      .item-title{
        width: 100%;
        height: 39px;
        font-size: 14px;
      }
      .item-price{
        display: flex;
        justify-content: space-between;
        .new{
          font-size: 16px;
          color: #f03c3c;
          margin-right: 10px;
        }
      }
    }
  }
}

// ÂïÜÂìÅÁªüËÆ° --- ÂÖ®ÈÄâ --- ÂêàËÆ° --- ÁªìÁÆó --- Âà†Èô§
.cart-status{
  background-color: white;
  justify-content: end;
  font-size: 17px;
  position: fixed;
  left: 0;
  bottom: 50px;
  width: 100%;
  z-index: 999;
  padding: 0 10px;
  height: 50px;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #999;
  .check-all{
    position: absolute;
    left: 20px;
    // background-color: pink;
  }
  // ÂêàËÆ° --- ‰ª∑Èí±
  .total-price{
    height: 50px;
    line-height: 50px;
    margin-right: 5px;
    .price{
      color: rgb(250, 34, 9);
    }
  }
  // ÁªìÁÆóÈîÆ & Âà†Èô§ÈîÆ
  .count-box{
    width: 125px;
    background-color: rgb(250, 44, 32);
    color: white;
    border-radius: 20px;
    height: 35px;
    text-align: center;
    line-height: 35px;
    cursor: pointer;
  }
}

// Ê≤°ÊúâÁôªÈôÜ || Ë¥≠Áâ©ËΩ¶‰∏∫Á©∫
// Â¶ÇÊûúgoodsÊòØÁ©∫ÔºåÂ∞±ÊòØÊ≤°ÊêúÂà∞
.search-null{
  text-align: center;
  svg{
    margin-top: 40px;
  }
  p{
    font-size: 20px;
    color: rgb(112, 111, 111);
  }
  button{
    margin-top: 50px;
    border: 0;
    border-radius: 20px;
    width: 150px;
    height: 35px;
    color: white;
    font-size: 20px;
    background-color: rgb(254, 93, 51);
  }
}

</style>
